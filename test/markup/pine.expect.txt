<span class="hljs-comment">// # ============================== BB Inputs ================================ #</span>
BB_source                   <span class="hljs-operator">=</span> <span class="hljs-keyword">input.source</span>( defval <span class="hljs-operator">=</span> <span class="hljs-built_in">close</span>, title <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Source&quot;</span>,                             inline <span class="hljs-operator">=</span> <span class="hljs-string">&quot;00&quot;</span>, group <span class="hljs-operator">=</span> <span class="hljs-string">&quot;ðŸ”µ Bollinger Bands ðŸ”µ&quot;</span>)
BB_length                   <span class="hljs-operator">=</span> <span class="hljs-keyword">input.int</span>(    defval <span class="hljs-operator">=</span> <span class="hljs-number">20</span>, title <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Length&quot;</span>, minval <span class="hljs-operator">=</span> <span class="hljs-number">1</span>,                    inline <span class="hljs-operator">=</span> <span class="hljs-string">&quot;01&quot;</span>, group <span class="hljs-operator">=</span> <span class="hljs-string">&quot;ðŸ”µ Bollinger Bands ðŸ”µ&quot;</span>)
BB_Multiplicator            <span class="hljs-operator">=</span> <span class="hljs-keyword">input.float</span>(  defval <span class="hljs-operator">=</span> <span class="hljs-number">2.0</span>, title <span class="hljs-operator">=</span> <span class="hljs-string">&quot;STD&quot;</span>, minval <span class="hljs-operator">=</span> <span class="hljs-number">0.001</span>, maxval <span class="hljs-operator">=</span> <span class="hljs-number">50</span>,     inline <span class="hljs-operator">=</span> <span class="hljs-string">&quot;01&quot;</span>, group <span class="hljs-operator">=</span> <span class="hljs-string">&quot;ðŸ”µ Bollinger Bands ðŸ”µ&quot;</span>)
BB_offset                   <span class="hljs-operator">=</span> <span class="hljs-keyword">input.int</span>(    defval <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, title <span class="hljs-operator">=</span><span class="hljs-string">&quot;Offset&quot;</span>, minval <span class="hljs-operator">=</span> <span class="hljs-operator">-</span><span class="hljs-number">500</span>, maxval <span class="hljs-operator">=</span> <span class="hljs-number">500</span>,     inline <span class="hljs-operator">=</span> <span class="hljs-string">&quot;01&quot;</span>, group <span class="hljs-operator">=</span> <span class="hljs-string">&quot;ðŸ”µ Bollinger Bands ðŸ”µ&quot;</span>)
<span class="hljs-comment">// # ============================== BB Inputs ================================ #</span>

<span class="hljs-comment">// # =========================== BB Calculation ============================== #</span>
BB_basis                    <span class="hljs-operator">=</span> <span class="hljs-keyword">ta.sma</span>(source <span class="hljs-operator">=</span> BB_source, length <span class="hljs-operator">=</span> BB_length)
BB_std                      <span class="hljs-operator">=</span> BB_Multiplicator <span class="hljs-operator">*</span> <span class="hljs-keyword">ta.stdev</span>(source <span class="hljs-operator">=</span> BB_source, length <span class="hljs-operator">=</span> BB_length)
BB_upper                    <span class="hljs-operator">=</span> BB_basis <span class="hljs-operator">+</span> BB_std
BB_lower                    <span class="hljs-operator">=</span> BB_basis <span class="hljs-operator">-</span> BB_std
<span class="hljs-comment">// # =========================== BB Calculation ============================== #</span>

<span class="hljs-comment">// =============================== BB Plotting =============================== #</span>
<span class="hljs-keyword">plot</span>(<span class="hljs-keyword">series</span> <span class="hljs-operator">=</span> BB_basis, title <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Basis&quot;</span>, <span class="hljs-keyword">color</span>  <span class="hljs-operator">=</span> <span class="hljs-keyword">color.new</span>(#FF6D00, <span class="hljs-number">0</span>), offset <span class="hljs-operator">=</span> BB_offset)
p1                          <span class="hljs-operator">=</span> <span class="hljs-keyword">plot</span>(<span class="hljs-keyword">series</span> <span class="hljs-operator">=</span> BB_upper, title <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Upper&quot;</span>, <span class="hljs-keyword">color</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">color.new</span>(#<span class="hljs-number">2962</span>FF, <span class="hljs-number">0</span>), offset <span class="hljs-operator">=</span> BB_offset)
p2                          <span class="hljs-operator">=</span> <span class="hljs-keyword">plot</span>(<span class="hljs-keyword">series</span> <span class="hljs-operator">=</span> BB_lower, title <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Lower&quot;</span>, <span class="hljs-keyword">color</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">color.new</span>(#<span class="hljs-number">2962</span>FF, <span class="hljs-number">0</span>), offset <span class="hljs-operator">=</span> BB_offset)
<span class="hljs-keyword">fill</span>(plot1 <span class="hljs-operator">=</span> p1, plot2 <span class="hljs-operator">=</span> p2, title <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Background&quot;</span>, <span class="hljs-keyword">color</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">color.rgb</span>(<span class="hljs-number">33</span>, <span class="hljs-number">150</span>, <span class="hljs-number">243</span>, <span class="hljs-number">95</span>))
<span class="hljs-comment">// # ============================= BB Plotting =============================== #</span>